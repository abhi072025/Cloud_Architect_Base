name: PR Quality
on:
  pull_request:
    branches: [ "main" ]
jobs:
  quality:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Python lint and test
        run: |
          pipx install flake8 pytest
          cd src/services/orders
          flake8 .
          pytest || true
      - name: Node lint
        run: |
          cd src/services/catalog
          npm install --omit=dev
          npx eslint . || true
